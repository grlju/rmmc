% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mmc_feinberg.R
\name{mmc_feinberg}
\alias{mmc_feinberg}
\title{mmc_feinberg}
\usage{
mmc_feinberg(
  data,
  matrix_m,
  firm_col,
  date_col = NA,
  level,
  market_cols = NA,
  subset_row = FALSE,
  fill_na = FALSE,
  full_result = FALSE,
  write_to_disk = FALSE,
  chunk_size = NA,
  saveto = NA
)
}
\arguments{
\item{data}{A data.table or data.frame (or an object coercible to a data.table) consisting of rows of firms and columns of markets.}

\item{matrix_m}{A supplement data to indicate the revenue of firms in markets. Ideally It should have the same dimension and order as data.}

\item{firm_col}{A string with the name of the column of firm identifiers. It must be provided.}

\item{date_col}{A string with the name of the column of dates. Optional. If provided, the measures will be computed for each date separately.}

\item{level}{A string. It must be either "dyad", "dyad market", "firm market", "market" or "market firm". It must be provided.}

\item{market_cols}{A sting with names of all columns for the markets for which multimarket contact is to be computed.}

\item{subset_row}{A vector of logical expression indicating elements or rows to keep.}

\item{fill_na}{Logical. True to fill NAs in the data with 0.}

\item{full_result}{Logical. True to display all intermediate working numbers.}

\item{write_to_disk}{Logical. If the output is too large to fit in memory, it is saved to user's current directory as a compress .gz file.}

\item{chunk_size}{An integer. Size of chunks for processng and saving the data.}

\item{saveto}{Path for saving the result.}
}
\value{
The function outputs a data.table with the following columns:

If the \emph{dyad} level is specified:

\itemize{
\item date: The date, if specified

\item id: Identifier of the focal firm

\item N_i: The number of markets the focal firm participates in.

\item id.y: Identifier of the other firm in the dyad

\item N_j: The number of markets the other firm in the dyad participates in.

\item mmc_ij: The dyadic degree of multimarket contact between a focal firm (firm i) and the other firm in the dyad (firm j) across all the markets in which both firms are present.
}


If full_result = TRUE is specified, in addition to the variable described above, the following is returned:

\itemize{
\item market_cols: The columns that indicate market participation for the focal firm

\item market_cols.y: The columns that indicate market participation for the other firm in the dyad

\item market_cols.asset: The assets of the focal firm (firm i) from market m
}

If the \emph{dyad market} level is specified:

\itemize{
\item date: The date, if specified

\item id: Identifier of the focal firm

\item N_i: The number of markets the focal firm participates in.

\item id.y: Identifier of the other firm in the dyad

\item N_j: The number of markets the other firm in the dyad participates in.

\item mmc_ij m: A set of columns that represent the dyadic degree of multimarket contact between a focal firm (firm i) and the other firm in the dyad (firm j) across all the markets where both firms are present, in each market m in which both firms are present.

\item Sum mmc_ijm: The row sum of the mmc_ij m columns

\item Avg mmc_ijm: The row average of the mmc_ij m columns
}

If full_result = TRUE is specified, in addition to the variable described above, the following is returned:

\itemize{
\item market_cols: The columns that indicate market participation for the focal firm

\item market_cols.y: The columns that indicate market participation for the other firm in the dyad

\item IxI: A set of columns that indicate 1 when the focal firm and the other firm in the dyad are present in market m, else 0.

\item IxIxS m: It is SUM_n!=m IxI * matrix_p
}


If the \emph{firm market} level is specified:

\itemize{
\item date: The date, if specified

\item id: Identifier of the focal firm

\item N_i: The number of markets the focal firm participates in.

\item mmc_im: A set of columns that represent the firm-in-market multimarket contact for a focal firm (firm i), in each market m in which the focal firm (firm i) is present.

\item Sum mmc_im: The row sum of the mmc_im columns

\item Avg mmc_im: The row average of the mmc_im columns
}

If full_result = TRUE is specified, in addition to the variable described above, the following is returned:

\itemize{
\item mmc_ijm m: A set of columns representing the multimarket contact a focal firm (firm i) experiences in each market m in which it is present.
}


If the \emph{market} level is specified:

\itemize{
\item date: The date, if specified

\item mmc_m: The overall degree of multimarket contact among the firms present in a focal market m

\item Sum mmc_m: The row sum of the mmc_m columns

\item Avg mmc_m: The row average of the mmc_m columns
}

If full_result = TRUE is specified, in addition to the variable described above, the following is returned:

\itemize{
\item mmc_im: A set of columns representing the multimarket contact in each market m.

\item S_im m: The total assets from market m
}

If the \emph{market firm} level is specified:

\itemize{
\item date: The date, if specified

\item id: Identifier of the focal firm

\item mmc_mi: A set of columns representing the overall market level multimarket contact in each market m in which the focal firm (firm i) is present.

\item Sum mmc_mi: The row sum of the mmc_mi columns

\item Avg mmc_mi: The row average of the mmc_mi columns
}

If full_result = TRUE is specified, in addition to the variable described above, the following is returned:

\itemize{
\item market_cols: The columns that indicate market participation for the focal firm

\item N_i: The number of markets the focal firm participates in.

\item N_m: The number of firms in market m

\item mmc_m: The overall degree of multimarket contact among the firms present in a focal market m
}
}
\description{
It calculates multi-market contacts with Feinberg's (1985) implementation.
}
\examples{
data = rmmc:::data
m = rmmc:::m
mmc_feinberg(data, m, "id", "year", "dyad", c("m1", "m2", "m3", "m4"))
}
